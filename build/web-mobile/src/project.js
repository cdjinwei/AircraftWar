require=function e(o,n,t){function c(r,a){if(!n[r]){if(!o[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(i)return i(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var d=n[r]={exports:{}};o[r][0].call(d.exports,function(e){var n=o[r][1][e];return c(n||e)},d,d.exports,e,o,n,t)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<t.length;r++)c(t[r]);return c}({BasePlane:[function(e,o,n){"use strict";cc._RF.push(o,"4218bhhP69Dr75q/BxHDMbD","BasePlane");var t=e("config");cc.Class({extends:cc.Node,properties:{_target:cc.Node,_blood:{default:1,type:cc.Integer},_level:{default:0,type:cc.Integer}},ctor:function(e){var o=parseInt(e),n=t.PlaneConfig[o];this.initPlane(n)},initPlane:function(e){var o=this;o._blood=e.blood,console.log("================path:"+e.prefabPath);var n=cc.loader.getRes(e.prefabPath);if(null!=n){o._target=cc.instantiate(n),o._target.addComponent(cc.BoxCollider);var t=o._target.getComponent(cc.Sprite).spriteFrame.getRect();o._target.getComponent(cc.BoxCollider).size=new cc.size(t.width,t.height),o.addChild(o._target)}},getHit:function(){console.log("=========================gethit")},getCurrentNode:function(){return this._target},shoot:function(){console.log("==========base shoot")},moveLeft:function(){console.log("==============move left")},moveRight:function(){console.log("==============move right")},destroySelf:function(){this.removeFromParent()}}),cc._RF.pop()},{config:"config"}],Bullet:[function(e,o,n){"use strict";cc._RF.push(o,"edf78YvZERKSKzwSsXtg62e","Bullet");cc.Class({extends:cc.Component,properties:{speed:800},onLoad:function(){},onCollisionEnter:function(e,o){cc.bulletPool?cc.bulletPool.put(this.node):this.node.destroy()},update:function(e){this.node.y+=this.speed*e*5,this.node.y>1130&&(cc.bulletPool?cc.bulletPool.put(this.node):this.node.destroy())}});cc._RF.pop()},{}],EnemyPlane:[function(e,o,n){"use strict";cc._RF.push(o,"8d5e2F2irBA3IxqS9ZgBY1S","EnemyPlane");e("BasePlane"),e("config");cc.Class({extends:cc.Component,properties:{blood:{default:2,type:cc.Integer},speed:{default:20,type:cc.Integer},canMove:{default:!1,type:cc.Boolean}},onLoad:function(){},initPlane:function(){this.blood=2,this.canMove=!0},onCollisionEnter:function(e,o){this.getHit()},onCollisionStay:function(e,o){this.getHit()},getHit:function(){this.blood-=1,this.blood<=0&&(cc.enemyPool?cc.enemyPool.put(this.node):this.node.destroy())},setPosition:function(e){this.node.position=e},update:function(e){this.canMove&&(this.node.y-=this.speed*e*3),this.node.y<0&&(cc.enemyPool?cc.enemyPool.put(this.node):this.node.destroy())}}),cc._RF.pop()},{BasePlane:"BasePlane",config:"config"}],HeroPlane:[function(e,o,n){"use strict";cc._RF.push(o,"3bb76RyEkhCXofhX9fwKZho","HeroPlane"),cc.Class({extends:cc.Component,properties:{nodeBody:{default:null,type:cc.Node},canMove:{default:!1,type:cc.Boolean}},onLoad:function(){this.registerControllEvent(),cc.director.getScheduler().schedule(this.shoot,this,.5)},onCollisionEnter:function(e,o){},onCollisionStay:function(e,o){},registerControllEvent:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(o){e.canMove=!0}),this.node.on(cc.Node.EventType.TOUCH_END,function(o){e.canMove=!1}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(o){if(e.canMove){var n=o.getDelta();e.adjustPlanePosition(n)}})},shoot:function(){var e=this,o=null;if(cc.bulletPool.size()>0)o=cc.bulletPool.get();else{var n=cc.loader.getRes("Prefab/bullet_1");o=cc.instantiate(n)}var t=cc.director.getScene(),c=cc.v2(e.node.x,e.node.y+50),i=t.convertToWorldSpace(c);o.position=i,t.addChild(o)},setPosition:function(e){this.node.position=e},getHit:function(){},adjustPlanePosition:function(e){var o=this;o.node.x+e.x<=50?o.node.x=50:o.node.x+e.x>=590?o.node.x=590:o.node.x=o.node.x+e.x,o.node.y+e.y<=55?o.node.y=55:o.node.y+e.y>=1080?o.node.y=1080:o.node.y=o.node.y+e.y}}),cc._RF.pop()},{}],config:[function(e,o,n){"use strict";cc._RF.push(o,"1af89Sk/nhAip3lmDinz3WC","config");var t={};t.PlaneType={HERO:0,ENERMY_NOR_1:1,ENERMY_BOSS_1:2},t.PlaneConfig=[],t.PlaneConfig[1]={prefabPath:"Prefab/hero",speed:500,blood:10},t.PlaneConfig[2]={prefabPath:"Prefab/enemy_1",speed:500,blood:1},t.PlaneConfig[3]={prefabPath:"Prefab/enemy_1",speed:500,blood:1},o.exports=t,cc._RF.pop()},{}],game:[function(e,o,n){"use strict";cc._RF.push(o,"6c53fLQJt9M7YLoItSAf+gl","game");var t=e("HeroPlane"),c=e("EnemyPlane");cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getCollisionManager().enabledDebugDraw=!1,cc.bulletPool=new cc.NodePool,cc.enemyPool=new cc.NodePool;var e=cc.loader.getRes("Prefab/hero"),o=cc.instantiate(e);o.addComponent(cc.BoxCollider);var n=o.getComponent(cc.Sprite).spriteFrame.getRect();o.getComponent(cc.BoxCollider).size=n,cc.director.getScene().addChild(o),o.position=cc.v2(200,200),o.addComponent(t),cc.director.getScheduler().schedule(this.createEnemy,this,.1)},createEnemy:function(){var e,o=cc.director.getScene();if(cc.enemyPool.size()>0)e=cc.enemyPool.get();else{var n=cc.loader.getRes("Prefab/enemy_1");(e=cc.instantiate(n)).addComponent(cc.BoxCollider);var t=e.getComponent(cc.Sprite).spriteFrame.getRect();e.getComponent(cc.BoxCollider).size=t,e.addComponent(c)}e.getComponent(c).initPlane(),o.addChild(e);var i=640*Math.random();i<20?i=20:i>620&&(i=620),e.position=cc.v2(i,1136)},onClickPause:function(){}}),cc._RF.pop()},{EnemyPlane:"EnemyPlane",HeroPlane:"HeroPlane"}],main:[function(e,o,n){"use strict";cc._RF.push(o,"e8511+PrjxAzZ41RfX9CykW","main");e("config"),e("HeroPlane");cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.prefabRes=null,this.loadGameRes()},loadGameRes:function(){cc.loader.loadResDir("Prefab",function(e,o,n){if(null==e){cc.prefabRes=o;for(var t=0;t<n.length;t++)n[t]}})},onClickStart:function(){cc.director.loadScene("GameScene",function(){console.log("load main scene success")})}}),cc._RF.pop()},{HeroPlane:"HeroPlane",config:"config"}]},{},["BasePlane","Bullet","EnemyPlane","HeroPlane","config","game","main"]);